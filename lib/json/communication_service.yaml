{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://192.168.1.226:6003/communicationservice","description":"Generated server url"}],"paths":{"/api/wsapicontroller/sendmessage/{branchCode}":{"post":{"tags":["whats-app-configuration-controller"],"operationId":"sendMessage","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"message","in":"query","required":true,"schema":{"type":"string"}},{"name":"number","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/wsapicontroller/checkwaapistatusandnotifyusers/{branchCode}/{branchName}":{"post":{"tags":["whats-app-configuration-controller"],"operationId":"checkWaApiStatusAndNotifyUsers","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"branchName","in":"path","required":true,"schema":{"type":"string"}},{"name":"fcmTokens","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK"}}}},"/api/pushnotification/sendmessage":{"post":{"tags":["push-notification-controller"],"operationId":"sendMessage_1","parameters":[{"name":"phoneNumber","in":"query","required":true,"schema":{"type":"string"}},{"name":"titleMessage","in":"query","required":true,"schema":{"type":"string"}},{"name":"message","in":"query","required":true,"schema":{"type":"string"}},{"name":"fcmToken","in":"query","required":true,"schema":{"type":"string"}},{"name":"redirectPage","in":"query","required":true,"schema":{"type":"string"}},{"name":"bookingId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/wsapicontroller/retrieveuserphoto/{branchCode}/{userPhone}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveUserPhoto","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"userPhone","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/wsapicontroller/retrieveqr/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveQr","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/retrieve/waconfstatus/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveWaApiConfStatus","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/requestpairingcode/{branchCode}/{prefix}/{number}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrievePairingCodeWaApi","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"prefix","in":"path","required":true,"schema":{"type":"string"}},{"name":"number","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/fetchmessages/{branchCode}/{userPhone}/{messageNum}/{fetchMedia}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"fetchMessages","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"userPhone","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageNum","in":"path","required":true,"schema":{"type":"string"}},{"name":"fetchMedia","in":"path","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatMessagesResponseDTO"}}}}}}},"/api/wsapicontroller/fetchallmessages/{branchCode}/{chatNum}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"fetchAllMessages","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"chatNum","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AllChatListDataDTO"}}}}}}}},"/api/wsapicontroller/createconf/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"createConfWaApi","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/pro20":{"get":{"tags":["centralino-api-controller"],"operationId":"manageCentralinoCall","parameters":[{"name":"key","in":"query","required":true,"schema":{"type":"string"}},{"name":"callerid","in":"query","required":true,"schema":{"type":"string"}},{"name":"calledid","in":"query","required":true,"schema":{"type":"string"}},{"name":"uniqueid","in":"query","required":true,"schema":{"type":"string"}},{"name":"remark","in":"query","required":false,"schema":{"type":"string"}},{"name":"remark2","in":"query","required":false,"schema":{"type":"string"}},{"name":"remark3","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/wsapicontroller/deleteConf/{branchCode}":{"delete":{"tags":["whats-app-configuration-controller"],"operationId":"deleteConfWaApi","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}}},"components":{"schemas":{"WhatsAppConfigurationDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"branchCode":{"type":"string"},"phone":{"type":"string"},"waApiInstanceId":{"type":"string"},"waApiState":{"type":"string","enum":["ISTANZA_CREATA","QR","PRONTA","NON_PRONTA"]},"lastError":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"qrCode":{"type":"string"},"pairingCode":{"type":"string"},"photoUrl":{"type":"string"},"displayName":{"type":"string"}}},"ChatMessagesResponseDTO":{"type":"object","properties":{"status":{"type":"string"},"instanceId":{"type":"string"},"data":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/MessageDataDTO"}}}},"MessageDataDTO":{"type":"object","properties":{"fromMe":{"type":"boolean"},"from":{"type":"string"},"to":{"type":"string"},"timestamp":{"type":"integer","format":"int64"},"body":{"type":"string"},"id":{"type":"string"}}},"AllChatListDataDTO":{"type":"object","properties":{"name":{"type":"string"},"unreadCount":{"type":"integer","format":"int32"},"timestamp":{"type":"integer","format":"int64"},"fromNumber":{"type":"string"},"toNumber":{"type":"string"},"body":{"type":"string"},"fromMe":{"type":"boolean"}}}}}}