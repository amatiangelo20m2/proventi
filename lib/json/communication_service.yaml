{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://192.168.1.4:14016/communicationservice","description":"Generated server url"}],"paths":{"/api/wsapicontroller/sendmessage/{branchCode}":{"post":{"tags":["whats-app-configuration-controller"],"operationId":"sendMessage","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"message","in":"query","required":true,"schema":{"type":"string"}},{"name":"number","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/wsapicontroller/retrieveuserphoto/{branchCode}/{userPhone}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveUserPhoto","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"userPhone","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/wsapicontroller/retrieveqr/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveQr","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/retrieve/waconfstatus/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"retrieveWaApiConfStatus","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/fetchmessages/{branchCode}/{userPhone}/{messageNum}/{fetchMedia}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"fetchMessages","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"userPhone","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageNum","in":"path","required":true,"schema":{"type":"string"}},{"name":"fetchMedia","in":"path","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatMessagesResponseDTO"}}}}}}},"/api/wsapicontroller/fetchallmessages/{branchCode}/{chatNum}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"fetchAllMessages","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}},{"name":"chatNum","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/AllChatListDataDTO"}}}}}}}},"/api/wsapicontroller/createconf/{branchCode}":{"get":{"tags":["whats-app-configuration-controller"],"operationId":"createConfWaApi","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}},"/api/wsapicontroller/deleteConf/{branchCode}":{"delete":{"tags":["whats-app-configuration-controller"],"operationId":"deleteConfWaApi","parameters":[{"name":"branchCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WhatsAppConfigurationDTO"}}}}}}}},"components":{"schemas":{"WhatsAppConfigurationDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"branchCode":{"type":"string"},"phone":{"type":"string"},"waApiInstanceId":{"type":"string"},"waApiState":{"type":"string","enum":["NEW","INSTANCE_CREATED","READY","NOT_READY"]},"lastError":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"qrCode":{"type":"string"},"photoUrl":{"type":"string"},"displayName":{"type":"string"}}},"ChatMessagesResponseDTO":{"type":"object","properties":{"status":{"type":"string"},"instanceId":{"type":"string"},"data":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/MessageDataDTO"}}}},"MessageDataDTO":{"type":"object","properties":{"fromMe":{"type":"boolean"},"from":{"type":"string"},"to":{"type":"string"},"timestamp":{"type":"integer","format":"int64"},"body":{"type":"string"},"id":{"type":"string"}}},"AllChatListDataDTO":{"type":"object","properties":{"name":{"type":"string"},"unreadCount":{"type":"integer","format":"int32"},"timestamp":{"type":"integer","format":"int64"},"fromNumber":{"type":"string"},"toNumber":{"type":"string"},"body":{"type":"string"},"fromMe":{"type":"boolean"}}}}}}